# Pman

**Pman** is a CLI password manager written in Python. It is intended to be used through the command line however a web version is also in development.
Read about how Pman works in the [About](#about) section

![output2](https://github.com/user-attachments/assets/495463ce-ec65-4781-8ebc-063ac3ebc67b)


## Table of Contents

- [About](#about)
- [Installation](#installation)
- [Usage](#usage)
- [License](#license)

## About

Pman is a statless password manager, what this means is that it does not store your passwords in any database but rather calculates them on demand using cryptographic algorithms. This system means that you have access to your passwords anywhere at any time and on any device without needing to worry about syncing over the web. The risk of data breaches or interceptions over a network by bad actors is hence entierly avoided. 

With one secure master password you can generate all other passwords for your various online services. Each time you require a new password **pman** will prompt you for your master password and website name, this information is then fed into the Argon2 cryptographic hash algorithm. This is an irreversible process that creates a seemingly random hash output (read more about argon2 [here](https://en.wikipedia.org/wiki/Argon2)).

Through the irreversibility of the cryptographic hash you can be sure that your master password is safe and safe from brute force attacks thanks to Argon2's resistance to GPU cracking attacks.

In certain circumstances the password generated by Pman may not meet the requirements of a particular website, however that is where pman `flags` come in. Special restrictions can be applied to the hash output to ensure that it meets website requirements of maximum password length or availability of special characters. See practical examples of this in the [Usage](#usage) section.

Despite calculating passwords on the fly, users must still remember the usernames associated with their account (in addition to the master password). Pman has a solution for this. Usernames can be auto generated using a similar process to the password generation by passing the `-u` option into the pman command. However there are situations where users would not want to use auto generated user names and in such a case pman offers the ability to save usernames in a local database on their pc. It is important to note that *ONLY* usernames are stored a *NOT* passwords or master passwords as this would go against the philosophy of the program. Users can also choose to store any modifier flags that may have been used in the password generation so that they can be automatically reapplied next time a password is generated. All usernames and modifier flags are stored locally in a file called `data.txt` and are unencrypted. The user can then choose to sync this file using their software of choice if they wish to share details amoungst devices.

## Installation
Ensure you have `git` and `python3` installed on your system.
Clone this repository with `git clone https://github.com/GWStuart/pman.git`

Pman has a few dependencies that must be installed.
These can be installed system-wide or using a virtual environemnt.

To create a python virtual environment on linux:
- navigate to the pman folder
- create a new virtual environment with `python -m venv venv`
- activate the environment with `source venv/bin/activate`
- install dependencies with `python -m pip install -r requirements.txt`
- run the program using `python pman.py`
- deactivate the environment with `deactivate` when you have finished

I would recommend setting an alias so that pman can be run more easily.
Note that if the dependencies are installed in a virtual environment then you need to provide the path to the python executable within the `venv` folder and not your system's python.

For Bash:
- edit your `~/.bashrc` file and add the line `alias pman="-path-to-pman/venv/bin/python -path-to-pman/pman.py"`
- reload your bashrc with `source ~/.bashrc`

The rest of this guide will use pman as if it is being used with an alias. If this is not the case then you must replace `pman` with `python pman.py` in full.

## Usage

The CLI for pman is relatively easy to use and is explained below. 
For more information on all the available commands run `pman --help`. 

### Basic Usage

To generate the password for an application simply type,
```
pman APPLICATION_NAME
```
You will then be prompted to enter your masterpassword which Pman will use to generate your password to the website. More information on how Pman works can be found in the [About](#about) section.

Pman also accepts a URL as the application and will automatically strip off url parameters so that it is just the website name
```
pman URL
```

### Saving Data

Users can choose to optionally save information such as usernames and modifier flags by passing the `-s` flag,
```
pman APPLICATION_NAME -s
```

When this flag is passed the user will be prompted to enter additional information that they may choose to save including
- username
- description (short message with additional information)

All the data stored in the database can be viewed with the command,
```
pman -l
```

### Modifying the Password

Sometimes you may need to modify the outputted password to meet the requirements of a particular website/application. This can be easily achieved with **flags**. Pman supports two different modifier flags, one for modifying the length of the password and the other for modifying the accepted characters.

To modify the length use the `-n` flag. The following command restricts the password to 16 characters
```
pman APPLICATION_NAME -n 16
```

If a website/application doesn't accept certain characters then exclude them using the `-x` flag. The command will exclude all characters after the `-x`,
```
pman -x !@#
```

### Other Useful Features
You can remove applications stored in the database using the following command,
```
pman -rm APPLICATION_NAME
```

In some cases you may wish to use an automatically generated username. This can be done with the `-u` flag,
```
pman APPLICATION_NAME -u
```

To ask for confirmation prompt when entering the master password use the `-c` tag. This will ensure that you enter the same password twice and is useful when you are using pman to generate a password for an application for the first time since you want to ensure that the correct master password is used.
```
pman APPLICATION_NAME -c
```

### Usage Tips
If you need to type certain characters into the bash terminal such as, !@#, put them in single brackets to avoid them being interpreted as terminal actions. E.g.
```
pman APPLICATION_NAME -x '!'
```

You can combine multiple command line flags. For example when registering for an application that is important I will usually include the `-c` flag to confirm that the masterpassword is the same and the `-s` flag to store the usernames in the database.
```
pman APPLICATION_NAME -c -s
```

Pman previously encrypted passwords usingt the SHA256 cryptographic hash. And has now moved to using Argon2 for its extra protection when it comes to resisting brute force attacks and other cyber threats. If you have any passwords generated using the old version of Pman they can still be generated using the `--legacy` flag however they should be updated immediately. 
```
pman APPLICATION_NAME --legacy
```

## License


